*:*******************************************************************************:*: Procedure File C:\DATA\NDMS\PRG\DG\EDIIKK.PRG*:*:	*:	*:	*:	*:	*:	*:	*:	*:	Nordic Centre for Classification of Diseases*:	*:	Nordic Centre for Classification of Diseaes*:	NordDRG Maintenance system*:	*:*: Documented using Visual FoxPro Formatting wizard version  .05*:*******************************************************************************:   EDIIKK*!*******************************************************************************!*! Procedure EDIIKK*!*!  Calls*!      ALIAS*!      FILTER*!      LASTKEY*!      NOT*!      RECNO*!      date*!*!******************************************************************************procedure EDIIKK	lc_filter=FILTER()	if ALIAS()='DRGLOGIC' OR ALIAS()='DRGNAMES'		WAIT WINDOW NOWAIT ALIAS()+' can not be changed'		return	endif	set FILTER to	on KEY label ctrl+B do EDI2	lc_apuik=.T.	do WHILE lc_apuikDEFINE WINDOW apuikk FROM 1,1 to max_y, 2*min_x FONT  max_foty,  max_fosiActivate WINDOW apuikkWAIT WINDOW '[CTRL][B] - change current record, [Ctrl][W] - return to basic window' NOWAITBROWSE noedit nodeleteif LASTKEY()=23	EXITendifENDDOrelease WINDOW apuikkif ALIAS()='ICD_10'	set filte to Valid AND prim AND NOT headlineendifdo dgnayttoon KEY label ctrl+B do EDIIKKreturn	procedure EDI2		if ALIAS()='ICD_10'			WAIT WINDOW 'ICD-10 cannot be modified here' NOWAIT			return		endif		lc_recno=RECNO()		edit next 1		WAIT WINDOW 'Select N - no changes or Y - changes'		if NOT (LASTKEY()=110 OR LASTKEY()=78)			REPLACE chdate WITH date()		endif		release WINDOW apuikk		return